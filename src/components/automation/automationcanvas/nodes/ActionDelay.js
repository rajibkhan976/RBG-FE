import React, { memo, useState } from 'react';

import { Handle } from 'react-flow-renderer';

export default memo(({ data }) => {
    const style = {

    }

    return (
        <React.Fragment>
            <Handle
                type="target"
                position="left"
                style={{ background: '#555', border: '4px solid #FFF' }}
            />
            <div style={style} className="actionNode actionNodeDelay">
                <svg width="100" height="100" viewBox="0 0 63 63" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M53 0H10C4.47715 0 0 4.47715 0 10V53C0 58.5228 4.47715 63 10 63H53C58.5228 63 63 58.5228 63 53V10C63 4.47715 58.5228 0 53 0Z" fill="#05D3F8"/>
                    <path d="M34.587 30.181C36.1267 29.2687 37.3993 27.9673 38.277 26.4076C39.1546 24.8478 39.6064 23.0846 39.587 21.295C39.8778 21.2834 40.153 21.1603 40.3554 20.9512C40.5578 20.7421 40.6719 20.463 40.674 20.172V19.632C40.674 19.3326 40.5554 19.0455 40.3442 18.8333C40.133 18.6212 39.8464 18.5013 39.547 18.5H22.632C22.3318 18.5 22.0438 18.6193 21.8316 18.8316C21.6193 19.0438 21.5 19.3318 21.5 19.632V20.171C21.5014 20.4552 21.6106 20.7283 21.8054 20.9353C22.0003 21.1422 22.2664 21.2675 22.55 21.286C22.5266 23.0955 22.987 24.8784 23.8837 26.4503C24.7803 28.0222 26.0806 29.3261 27.65 30.227C27.9179 30.3771 28.1396 30.5978 28.2908 30.8651C28.4421 31.1324 28.5172 31.436 28.508 31.743V31.917C28.5032 32.2194 28.4155 32.5147 28.2546 32.7707C28.0936 33.0267 27.8654 33.2337 27.595 33.369C26.049 34.2679 24.7689 35.5605 23.885 37.1151C23.0011 38.6697 22.5449 40.4308 22.563 42.219C22.2803 42.2351 22.0142 42.3574 21.8178 42.5613C21.6214 42.7653 21.5093 43.0359 21.504 43.319V43.858C21.504 44.1582 21.6233 44.4462 21.8356 44.6584C22.0478 44.8707 22.3358 44.99 22.636 44.99H39.547C39.6957 44.99 39.8429 44.9607 39.9802 44.9038C40.1175 44.8469 40.2423 44.7636 40.3474 44.6584C40.4526 44.5533 40.5359 44.4285 40.5928 44.2912C40.6497 44.1539 40.679 44.0067 40.679 43.858V43.319C40.6769 43.028 40.5628 42.7489 40.3604 42.5398C40.158 42.3307 39.8828 42.2076 39.592 42.196C39.6065 40.416 39.1521 38.6635 38.2744 37.1149C37.3967 35.5662 36.1266 34.276 34.592 33.374C34.3229 33.2394 34.0956 33.0338 33.9347 32.7795C33.7739 32.5252 33.6854 32.2318 33.679 31.931V31.631C33.6837 31.3295 33.7708 31.035 33.9308 30.7794C34.0909 30.5238 34.3178 30.3169 34.587 30.181ZM22.413 20.171V19.632C22.413 19.6032 22.4187 19.5748 22.4297 19.5482C22.4407 19.5216 22.4568 19.4975 22.4771 19.4771C22.4975 19.4568 22.5216 19.4407 22.5482 19.4297C22.5748 19.4187 22.6032 19.413 22.632 19.413H39.547C39.6051 19.413 39.6608 19.4361 39.7019 19.4771C39.7429 19.5182 39.766 19.5739 39.766 19.632V20.171C39.766 20.2291 39.7429 20.2848 39.7019 20.3259C39.6608 20.3669 39.6051 20.39 39.547 20.39H22.632C22.5739 20.39 22.5182 20.3669 22.4771 20.3259C22.4361 20.2848 22.413 20.2291 22.413 20.171ZM39.766 43.314V43.853C39.766 43.9111 39.7429 43.9668 39.7019 44.0079C39.6608 44.0489 39.6051 44.072 39.547 44.072H22.632C22.5739 44.072 22.5182 44.0489 22.4771 44.0079C22.4361 43.9668 22.413 43.9111 22.413 43.853V43.314C22.413 43.2559 22.4361 43.2002 22.4771 43.1591C22.5182 43.1181 22.5739 43.095 22.632 43.095H39.547C39.6051 43.095 39.6608 43.1181 39.7019 43.1591C39.7429 43.2002 39.766 43.2559 39.766 43.314ZM34.166 34.181C35.5635 34.9975 36.7213 36.1678 37.5228 37.5739C38.3244 38.98 38.7414 40.5725 38.732 42.191H23.454C23.4421 40.5708 23.858 38.9761 24.6597 37.5681C25.4614 36.1601 26.6206 34.9886 28.02 34.172C28.4399 33.9616 28.794 33.6399 29.0436 33.2421C29.2933 32.8443 29.429 32.3856 29.436 31.916V31.742C29.4444 31.2687 29.3217 30.8024 29.0815 30.3945C28.8413 29.9867 28.4929 29.6532 28.075 29.431C26.6646 28.6039 25.4988 27.4175 24.6966 25.9927C23.8945 24.5679 23.4847 22.9559 23.509 21.321H38.688C38.7022 22.9498 38.2877 24.5536 37.4863 25.9716C36.6849 27.3896 35.5246 28.572 34.122 29.4C33.7064 29.6119 33.3565 29.9331 33.1098 30.329C32.8632 30.7249 32.7291 31.1806 32.722 31.647V31.93C32.7331 32.4009 32.8736 32.8597 33.1282 33.256C33.3827 33.6523 33.7414 33.971 34.165 34.177L34.166 34.181Z" fill="white" stroke="white" stroke-width="0.5"/>
                </svg>
            </div>
            <Handle
                type="source"
                position="right"
                style={{ background: '#555', border: '4px solid #FFF' }}
            />
            <span className='autoTitle'>Delay</span>
            { data.metrics ? 
                 <span className='metric'>    
                 <svg width="14" height="10" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M9.46953 5.99636C8.70117 5.98803 7.94358 6.17743 7.26953 6.54636C7.79141 7.01616 8.22581 7.57481 8.55253 8.19636L8.61353 8.31836V9.66236H13.5005V8.43936C13.1216 7.6981 12.5439 7.07695 11.8319 6.64547C11.12 6.214 10.302 5.98924 9.46953 5.99636Z" fill="black"/>
                      <path d="M9.5 4.5C10.8807 4.5 12 3.60457 12 2.5C12 1.39543 10.8807 0.5 9.5 0.5C8.11929 0.5 7 1.39543 7 2.5C7 3.60457 8.11929 4.5 9.5 4.5Z" fill="black"/>
                      <path d="M1.833 2.638C1.83975 2.07306 2.06717 1.53317 2.46667 1.13367C2.86617 0.734167 3.40606 0.506748 3.971 0.5C4.53803 0.5 5.08184 0.725253 5.48279 1.12621C5.88375 1.52716 6.109 2.07097 6.109 2.638C6.109 3.20503 5.88375 3.74884 5.48279 4.14979C5.08184 4.55075 4.53803 4.776 3.971 4.776C3.40606 4.76925 2.86617 4.54183 2.46667 4.14233C2.06717 3.74283 1.83975 3.20294 1.833 2.638ZM3.971 6C3.14314 5.97512 2.32608 6.19297 1.62049 6.6267C0.914899 7.06043 0.351603 7.6911 0 8.441V9.663H7.941V8.441C7.58946 7.69126 7.02632 7.0607 6.32093 6.62698C5.61554 6.19326 4.7987 5.97532 3.971 6Z" fill="black"/>
                 </svg>

                 <span>{data.metrics.success}</span>
               </span>
            : ""}
        </React.Fragment>
    );
});
